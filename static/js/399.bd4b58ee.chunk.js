"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[399],{399:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=n(439),r=n(791),s=n(689),o=n(87),a=n(861),c=n(757),l=n.n(c),h=function(){var e=(0,a.Z)(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movieId,i=t.setMovie,r={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4Mzk2OTczODNhODEzMDA1YmUxNTBlN2Q4ZGU0ZDMxOSIsInN1YiI6IjY0OTE5ZGYxYzJmZjNkMDBlMmUyMWJmYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.IbO3a4f3FNpftElFUbgd3_z8DfrptFKWxvdZo4ijCfs"}},e.next=4,fetch("https://api.themoviedb.org/3/movie/"+encodeURIComponent(n),r).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){i(e)})).catch((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return e.release_date?e.release_date.slice(0,4):e.first_air_date?e.first_air_date.slice(0,4):void 0},d=function(e){return Math.round(10*e.vote_average)},f=function(e){if(e.genres)return e.genres.map((function(e){return e.name})).join(", ")},v=n(321),m={btn:"MovieDetails_btn__7L5IF",main:"MovieDetails_main__Q9jrF",div:"MovieDetails_div__-27Pl",desc:"MovieDetails_desc__nunY6",info:"MovieDetails_info__qv2SI"},j=n(184);function _(){var e=(0,r.useState)(""),t=(0,i.Z)(e,2),n=t[0],a=t[1],c=(0,s.s0)(),l=(0,s.TH)(),_=(0,s.UO)().movieId;(0,r.useEffect)((function(){h({movieId:_,setMovie:a})}),[_]);return(0,j.jsxs)("main",{className:m.main,children:[(0,j.jsx)("button",{onClick:function(){"home"===l.state.from?c("/"):c("/movies?".concat(l.state.query))},className:m.btn,children:"\u2190 Go back"}),(0,j.jsxs)("div",{className:m.div,children:[(0,j.jsx)("img",{className:m.img,src:"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/".concat(n.poster_path),width:"200",height:"300",alt:n.name||n.title}),(0,j.jsxs)("div",{className:m.desc,children:[(0,j.jsxs)("h1",{children:[n.name||n.title," (",u(n),")"]}),(0,j.jsxs)("p",{children:["User score: ",d(n),"%"]}),(0,j.jsx)("h3",{children:"Overview"}),(0,j.jsx)("p",{children:n.overview}),(0,j.jsx)("h4",{children:"Genres"}),(0,j.jsx)("p",{children:f(n)})]})]}),(0,j.jsxs)("div",{className:m.info,children:[(0,j.jsx)("h6",{children:"Additional information"}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:(0,j.jsx)(o.rU,{to:"cast",state:l.state,children:"Cast"})}),(0,j.jsx)("li",{children:(0,j.jsx)(o.rU,{to:"reviews",state:l.state,children:"Reviews"})})]})]}),(0,j.jsx)(r.Suspense,{fallback:(0,j.jsx)(v.a,{}),children:(0,j.jsx)(s.j3,{})})]})}},861:function(e,t,n){function i(e,t,n,i,r,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,c,"next",e)}function c(e){i(o,r,s,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=399.bd4b58ee.chunk.js.map